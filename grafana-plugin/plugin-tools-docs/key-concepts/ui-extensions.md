---
id: ui-extensions
title: 了解 UI 擴充功能
sidebar_label: 關鍵概念
description: 學習 Grafana 中 UI 擴充功能的核心概念，以及它們如何讓插件彼此互動。
keywords:
  - grafana
  - plugins
  - plugin
  - links
  - extensions
  - app plugins
  - extension points
  - components
sidebar_position: 60
---

UI 擴充功能是一項強大的功能，可讓您的應用程式插件與 Grafana UI 和其他插件無縫整合。它們提供了一種結構化的方式，可將內容（例如連結和元件）貢獻至 Grafana 介面的特定區域，或與其他插件共用可重複使用的元件。

本指南涵蓋了 UI 擴充功能生態系統的基本概念。

## 核心概念

UI 擴充功能功能圍繞幾個關鍵概念建構：

- **內容提供者**：提供內容（連結、函式或 React 元件）的應用程式插件。
- **內容消費者**：使用所提供內容的 Grafana 或其他插件的部分。
- **擴充點**：UI 中可以放置內容的特定位置。

作為插件開發人員，您可以同時扮演內容的提供者和/或消費者。

## 兩種共用內容的方式：`add` 與 `expose`

根據不同的開發人員意圖，有兩種不同的方法可以從您的插件共用內容：

1.  **`add`（註冊）：** 一種「推播」方法，您可以在其中決定內容的確切顯示位置。
2.  **`expose`（公開）：** 一種「提取」方法，您可以在其中提供一個元件供其他插件視情況使用。

讓我們來分析一下其中的差異。

### `add`：將內容推播至擴充點

當您想將內容放置在特定、預先定義的位置時，請使用 `add` 方法。使用此方法，您正在積極地將您的內容「推播」到 Grafana UI 中的已知位置。

- **您的角色（生產者）：** 您建立一個連結或元件，並將其註冊到特定的擴充點，例如面板選單或導覽列。
- **主機的角色（消費者）：** 擴充點的所有者（Grafana 或其他插件）會接收所有已註冊的內容，並決定如何顯示它。消費者事先不知道誰會貢獻內容。

![新增 API 流程](./images/ui-extensions-add-flow.svg)

#### 使用案例

此方法可讓您將插件的功能緊密整合至現有的 Grafana UI 中。例如：

- 將選單項目新增至 Grafana 面板選單。
- 將新分頁新增至 Grafana 中的頁面。
- 將按鈕貢獻至儀表板工具列。

### `expose`：讓其他人提取您的內容

當您想提供一個通用的、可重複使用的元件，讓其他插件可以「提取」到自己的 UI 中時，請使用 `expose` 方法。您讓元件可用，然後由其他開發人員決定是否以及如何使用它。

- **您的角色（生產者）：** 您公開一個元件，使其可透過唯一的 ID 使用。您不知道誰會使用它或它將在哪裡顯示。
- **使用者的角色（消費者）：** 另一個插件開發人員可以找到您公開的元件，並選擇在自己的插件介面中的任何位置呈現它。

![公開 API 流程](./images/ui-extensions-expose-flow.svg)

#### 使用案例

此方法有助於建立共用元件的函式庫，並促進整個插件生態系統的可重複使用性。例如：

- 建立一個獨特的資料視覺化，其他資料來源插件可以使用。
- 建立一個自訂表單欄位或輸入控制項，供其他插件在其設定頁面中使用。
- 提供一個複雜的 UI 小工具，例如事件宣告強制回應視窗，可以從任何地方觸發。

### 差異摘要

| 功能 | `add` (註冊) | `expose` (公開) |
| :--------------- | :-------------------------------------------------------- | :---------------------------------------------------------- |
| **意圖** | 將內容推播至特定位置。 | 讓其他人提取內容以在任何地方使用。 |
| **控制** | 您（生產者）選擇位置（擴充點）。 | 消費者選擇位置。 |
| **感知** | 消費者在執行階段發現生產者。 | 消費者知道它正在使用哪個生產者。 |
| **關係** | 一對多（一個擴充點，多個貢獻者）。 | 一對一（一個公開的元件，一次一個消費者）。 |
| **使用案例** | 整合至特定的 UI 位置。 | 提供可重複使用的元件函式庫。 |

## 開始使用

現在您已了解核心概念，以下是如何開始使用 UI 擴充功能：

### 作為內容提供者（從您的插件共用）

如果您想從您的應用程式插件共用連結或元件，您有兩種途徑：

- [**註冊擴充功能**](../how-to-guides/ui-extensions/register-an-extension.md)：學習如何將您的內容 `add` 至特定的擴充點。
- [**公開元件**](../how-to-guides/ui-extensions/expose-a-component.md)：學習如何 `expose` 一個可重複使用的元件供其他插件使用。

### 作為內容消費者（在您的插件中使用擴充功能）

如果您想使用其他插件的內容，您可以：

- [**建立擴充點**](../how-to-guides/ui-extensions/create-an-extension-point.md)：學習如何允許其他插件將內容 `add` 至您插件的 UI。
- [**使用公開的元件**](../how-to-guides/ui-extensions/use-an-exposed-component.md)：學習如何尋找並在您的 UI 中呈現來自另一個插件的 `exposed` 元件。

## 延伸閱讀

- [**可用的擴充點**](../reference/ui-extensions-reference/extension-points.md)：查看 Grafana Core 中所有可用的擴充點列表。
- [**版本化擴充功能**](../how-to-guides/ui-extensions/versioning-extensions.md)：版本化您公開的元件和擴充點的最佳實務。
- [**偵錯擴充功能**](../how-to-guides/ui-extensions/debug-logs.md)：學習如何使用日誌來對您的擴充功能進行疑難排解。
- [**API 參考**](../reference/ui-extensions-reference/ui-extensions.md)：詳細了解 UI 擴充功能 API。