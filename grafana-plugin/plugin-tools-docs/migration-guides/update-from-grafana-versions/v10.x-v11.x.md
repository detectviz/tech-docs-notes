---
id: migrate-10_x-to-11_x
title: 10.x 至 11.x
sidebar_position: 3
description: 如何將插件從 Grafana 10.x 版遷移至 11.x 版
keywords:
  - grafana
  - plugins
  - plugin
  - upgrading
  - updating
  - migration
---

# 將插件從 Grafana 10.x 版遷移至 11.x 版

請遵循以下說明，將插件從 Grafana 10.x 版遷移至 11.x 版。

## 資料來源插件中的查詢篩選

多年來，資料來源插件中的查詢篩選和隱藏一直讓開發人員和使用者感到困惑。在 Grafana 11 中，我們引入了一些解決此問題的[變更](https://github.com/grafana/grafana/pull/84656)。

### Grafana 將自動移除與隱藏查詢相關的回應

與 `hide: true` 的查詢相關聯的回應將由 Grafana 移除。`hide: true` 的查詢仍會被執行，除非在資料來源的 `filterQuery` 方法中阻止它們，但相關的回應將不再傳遞給面板。為了讓 UI 與此行為保持一致，查詢編輯器列中的工具提示已從 `Disable query` 變更為 `Hide response/Show response`。

### `filterQuery` 方法將在 `query` 方法之前被呼叫

對於擴充 `DataSourceWithBackend` 的資料來源，`filterQuery` 方法現在會在資料來源的 `query` 方法**之前**被呼叫。如果 `filterQuery` 方法假設在此方法被呼叫之前會發生某種查詢遷移，您現在需要在這個方法內部進行遷移。