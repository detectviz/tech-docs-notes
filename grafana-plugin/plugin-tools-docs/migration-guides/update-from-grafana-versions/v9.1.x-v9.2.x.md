---
id: migrate-9_1_x-to-9_2_x
title: 9.1.x 至 9.2.x
sidebar_position: 7
description: 如何將插件從 Grafana 9.1.x 版遷移至 9.2.x 版。
keywords:
  - grafana
  - plugins
  - plugin
  - upgrading
  - updating
  - migration
---

# 將插件從 Grafana 9.1.x 版遷移至 9.2.x 版

請遵循以下說明，將插件從 Grafana 9.1.x 版遷移至 9.2.x 版。

## React 和 React-dom 作為對等相依性

在較早版本的 Grafana 套件中，無論插件的相依性為何，`react` 和 `react-dom` 都會在 `yarn install` 指令期間安裝。在 9.2.0 版中，`@grafana` 套件將這些 React 套件宣告為 `peerDependencies`，並且必須將其新增至插件的 `package.json` 檔案中以進行測試指令。

**範例：**

```json
// 之前
"dependencies": {
  "@grafana/data": "9.1.0",
  "@grafana/ui": "9.1.0",
},

// 之後
"dependencies": {
  "@grafana/data": "9.2.0",
  "@grafana/ui": "9.2.0",
  "react": "17.0.2",
  "react-dom": "17.0.2"
},

```

## `NavModelItem` 需要有效的圖示名稱

`NavModelItem` 的類型已改進，僅允許 `icon` 屬性使用有效的 `IconName`。有關有效圖示的完整列表，請參閱[原始碼](https://github.com/grafana/grafana/blob/v9.2.0-beta1/packages/grafana-data/src/types/icon.ts)。這些圖示適用於較舊版本的 Grafana 9。

**範例：**

```ts
// 之前
const model: NavModelItem = {
  id: 'settings',
  text: 'Settings',
  icon: 'fa fa-cog',
  url: `${baseUrl}/settings`,
};

// 之後
const model: NavModelItem = {
  id: 'settings',
  text: 'Settings',
  icon: 'cog',
  url: `${baseUrl}/settings`,
};
```

## 其他類型可用性

`FieldProps`、`ModalProps` 和 `QueryFieldProps` 現在已從 `@grafana/ui` 公開。它們可以像其他類型一樣匯入。

**範例：**

```ts
import { FieldProps, ModalProps, QueryFieldProps } from '@grafana/ui';
```